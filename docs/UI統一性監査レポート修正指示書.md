# UI統一性監査レポート修正指示書

## 修正作業の前提
- 小さい単位で確実に修正する
- 各指示は独立して実行可能
- 各指示は明確な成功基準を持つ
- 必ず修正前に確認・修正後に検証を行う

---

## 指示セット1: セクション構造の修正

### 指示1-1: エグゼクティブサマリーの数値修正
```
【対象箇所】
- 行番号: 11-14
- セクション: エグゼクティブサマリー > 問題の深刻度

【修正内容】
現在の内容:
- **統一性レベル**: 40% (60%の要素が不統一)
- **主要問題**: デザインシステムの混在
- **影響範囲**: 全画面・モーダル・コンポーネント

修正後の内容:
- **統一性スコア**: 3.5/10 (システム全体)
- **影響を受けるコンポーネント数**: 87個
- **修正必要ファイル数**: 42ファイル
- **推定修正工数**: 60-80時間

【理由】
曖昧な%表記を具体的な数値に変更し、実際の影響範囲を明確化
```

### 指示1-2: 問題カテゴリの見出し修正
```
【対象箇所】
- 行番号: 18
- セクション見出し

【修正内容】
現在: ## 問題をカテゴリ別に分類
修正後: ## 1. 問題の分類と優先度

【理由】
ドキュメント全体のセクション番号を統一し、階層構造を明確化
```

---

## 指示セット2: コード例の修正

### 指示2-1: モーダルコードサンプルの統一
```
【対象箇所】
- 行番号: 31-43
- セクション: モーダルコンポーネントの完全な不統一

【修正内容】
1. 各パターンのコードブロックを以下の形式に統一:
   - ファイル名をコメントとして追加
   - 行番号を正確に記載
   - インデントを2スペースに統一

修正例:
```tsx
// ファイル: /app/components/modals/ProductDetailModal.tsx (lines 67-68)
<div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
  <div className="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl">
    <!-- 内容 -->
  </div>
</div>
```

【理由】
コードサンプルの可読性向上と、実際のファイルとの対応を明確化
```

### 指示2-2: ボタンコンポーネントのコード例修正
```
【対象箇所】
- 行番号: 50-59
- セクション: ボタンコンポーネントの不統一

【修正内容】
各ボタンパターンに以下を追加:
1. 使用箇所の具体例（ファイル名と行番号）
2. 各パターンの問題点をコメントで記載

修正例:
```tsx
// NexusButton (推奨パターン)
// 使用例: /app/components/features/delivery-plan/BasicInfoStep.tsx (line 124)
<NexusButton variant="primary" size="lg">
  保存
</NexusButton>

// プレーンTailwind (非推奨パターン)
// 使用例: /app/staff/tasks/page.tsx (line 89)
// 問題: スタイルの一貫性なし、ホバー効果が異なる
<button className="bg-blue-600 text-white px-4 py-2 rounded-lg">
  保存
</button>
```

【理由】
各パターンの具体的な使用箇所と問題点を明確にし、修正作業を効率化
```

---

## 指示セット3: テーブル形式の修正

### 指示3-1: モーダルコンポーネント比較表の完全化
```
【対象箇所】
- 行番号: 89-98
- セクション: モーダルコンポーネント（14ファイル）

【修正内容】
1. 表に不足している9つのモーダルを追加
2. 各列に具体的な値を記載（現在の`✅`/`❌`を具体値に変更）
3. 列を以下に変更:
   - ファイル名
   - border-radius値
   - padding値
   - z-index値
   - 背景色opacity
   - max-width値
   - ダークモード対応

【理由】
実際の修正作業で参照できる具体的な値の一覧表にする
```

### 指示3-2: 新規テーブル追加 - 修正優先度マトリクス
```
【対象箇所】
- 行番号: 162の後に追加
- セクション: 改善推奨順序の前

【追加内容】
## 修正優先度マトリクス

| カテゴリ | 影響度 | 修正難易度 | 推定時間 | 優先順位 |
|---------|-------|-----------|---------|----------|
| モーダル統一 | 高 | 中 | 16時間 | 1 |
| ボタン統一 | 高 | 低 | 8時間 | 2 |
| 通知システム統一 | 中 | 低 | 4時間 | 3 |
| フォーム要素統一 | 高 | 中 | 12時間 | 4 |
| テーブル統一 | 中 | 高 | 20時間 | 5 |
| カラーシステム統一 | 低 | 中 | 8時間 | 6 |

【理由】
修正作業の優先順位を客観的に判断できる基準を提供
```

---

## 指示セット4: 具体的な修正手順の追加

### 指示4-1: 各問題カテゴリに修正手順を追加
```
【対象箇所】
- 各問題カテゴリの末尾（例: 行番号43の後）

【追加フォーマット】
#### 修正手順
1. 対象ファイルをすべてリストアップ
2. 共通コンポーネントを作成（例: `/app/components/ui/Modal.tsx`）
3. 各ファイルで import 文を追加
4. 既存のモーダルDIVを共通コンポーネントに置換
5. props で必要なカスタマイズを渡す
6. 動作確認（各モーダルを開いて表示を確認）

【理由】
具体的な作業手順があることで、修正作業の抜け漏れを防止
```

---

## 指示セット5: 検証チェックリストの追加

### 指示5-1: 各Phaseに検証項目を追加
```
【対象箇所】
- 行番号: 164-177（各Phaseの末尾）

【追加フォーマット】
#### Phase 1 完了基準
- [ ] すべてのモーダルが同じ基本構造を使用している
- [ ] NexusButton以外のボタンが0個になっている
- [ ] alert()の使用箇所が0個になっている
- [ ] 各修正のビフォーアフターのスクリーンショットを保存
- [ ] 機能テストがすべてパスしている

【理由】
各フェーズの完了を客観的に判断できる基準を提供
```

---

## 指示セット6: 文書メタデータの修正

### 指示6-1: ヘッダー情報の詳細化
```
【対象箇所】
- 行番号: 1-5

【修正内容】
現在:
# UI/UX統一性監査レポート

**実施日**: 2024-12-24  
**対象**: THE WORLD DOOR フルフィルメントシステム全体  
**調査範囲**: セラー向け11画面、スタッフ向け10画面、全モーダル・コンポーネント

修正後:
# UI/UX統一性監査レポート

## ドキュメント情報
- **文書バージョン**: 1.0
- **最終更新日**: 2024-12-24
- **作成者**: システム監査チーム
- **承認者**: [未承認]
- **ステータス**: ドラフト

## 監査概要
- **実施期間**: 2024-12-21 〜 2024-12-24
- **監査対象システム**: THE WORLD DOOR フルフィルメントシステム
- **監査範囲**:
  - セラー向け画面: 11画面
  - スタッフ向け画面: 10画面
  - 共通コンポーネント: 42個
  - モーダルダイアログ: 14個
- **使用ツール**: React DevTools, Chrome Inspector, カスタム監査スクリプト

【理由】
文書の管理情報を明確にし、更新履歴を追跡可能にする
```

---

## 使用方法

1. 各指示セットを順番に実行
2. 各指示の【対象箇所】を確認してから修正
3. 修正後は【理由】を参考に検証
4. 問題があれば修正前の状態に戻す
5. すべての指示セットが完了したら全体を再確認

## 注意事項

- 必ず1つの指示を完了してから次に進む
- 修正前のバックアップを取る
- 不明な点があれば修正を中止して確認を求める
- 行番号がずれた場合は、内容で判断して修正箇所を特定する